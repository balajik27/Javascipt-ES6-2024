<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>


</head>
<body>



    <main>

        <section>

            <div class="row">

                <div class="col"></div>
                <div class="col-6 border border-dark mt-5 rounded-2">

                    <label for="productTitle">Product Title : </label>
                    <input type="text" class="form-control" value="Watch" disabled>

                    <label for="cost">Cost : </label>
                    $<h3 id="cost">35</h3>
                     
                    <label for="productCount">Quantity : </label>

                    <div class="form-group">
                        <button class="btn btn-secondary" id="minus">-</button>
                        <div class="border px-5 py-2  d-inline" id="result">1</div>
                        <!-- <input type="text"> -->
                        <button class="btn btn-secondary" id="plus">+</button>
                    </div>

                    <div class="text-center mb-3">
                        <button class="btn btn-success" onclick="addToCart()">Submit</button>
                    </div>




                    
                </div>
                <div class="col"></div>

            </div>


        </section>


    </main>

    
    
</body>
</html>


<script>

    let plus = document.getElementById("plus");
    let minus = document.getElementById("minus");
    let result = document.getElementById("result");

    let cost = 35;

    let costTag = document.getElementById("cost");

    // 35 * 1 = 35
    // 35 * 2 = 70 

    // 35 * 3 = 


    plus.addEventListener('click' , function(){

        let value = result.textContent; // 1  - string

        value = parseInt(value) + 1; // 2

        let finalCost = parseInt(value) * cost;  // 2 * 35

        result.innerHTML = value; // 2

        costTag.innerHTML = finalCost;
        
    })

    minus.addEventListener('click' , function(){

        let value = result.textContent; // 3  - string

        if(value != 1){

            value = parseInt(value) - 1; // 2

            let finalCost = parseInt(value) * cost;  // 2 * 35

            result.innerHTML = value; // 2

            costTag.innerHTML = finalCost;

        }

    })



    function addToCart(){

        let costTag = document.getElementById("cost");
        let result = document.getElementById("result");


        let tempData = JSON.parse(localStorage.getItem('tempData'));

        console.log(tempData);
        

        let obj ={
            tempData,
            productTitle : "watch",
            productCount : result.textContent,
            cost : costTag.textContent
        }

        console.log(obj)

         if(localStorage.getItem('userData') == null){
            let userData = []
            localStorage.setItem('userData' , JSON.stringify(userData)) // (object or array) to json (string)
        }


        let newUserData = JSON.parse(localStorage.getItem('userData')) // []

        newUserData.push(obj) // [{} , {} , {}]


        localStorage.setItem('userData' , JSON.stringify(newUserData))

        console.log(localStorage.getItem('userData'))

        window.location.href = "list.html"

        

    }



</script>
